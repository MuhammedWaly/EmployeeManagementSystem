@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Popups
@inject SfDialogService dialugeSer
 

 
<SfDialog Width="250px" IsModal="true" ShowCloseIcon="true" @bind-Visible="@IsVisible">
    <DialogEvents OnOpen="@OpenDialog"> </DialogEvents>
    
    <DialogTemplates>
        <Header>Add Department</Header>
        <Content> 
        <EditForm Model="Department" Enhance OnSubmit="Save">
            <div class="card border-success">
                <div class="card-body">
                    <div class="form-group">
                        <label class="form-label">Name</label>
                        <InputText @bind-Value="Department.Name" class="form-control"></InputText>
                    </div>
                </div>

            </div>

        </EditForm>    
        </Content>
    </DialogTemplates>

    <DialogButtons>
        <DialogButton Content="Save" Type="ButtonType.Submit" IsPrimary="true" OnClick="Save"></DialogButton>
    </DialogButtons>

</SfDialog>
 
 @code {
    [Parameter]
    public GeneralDepartmentDto Department { get; set; } = new();
    private bool IsVisible { get; set; } = false;

    public void OpenDialog()
    {
        IsVisible = true;
        StateHasChanged();
    }

    async void Save()
    {
        if (Department.Name is null)
            await dialugeSer.AlertAsync("You must provide a Department Name", "Alert!");
    }
}

